/* 🔹 Toolbar (Centered Below Sidebar) */
#toolbar {
    position: absolute;
    top: 50px; /* Same height as header */
    left: 350px; /* Sidebar width on desktop */
    right: 0;
    height: 40px;
    background-color: #f4f4f4;
    display: flex;
    justify-content: flex-end;
    align-items: center;
    z-index: 900; /* Lower than sidebar but above map/gallery */
    border-bottom: 1px solid #ddd;
    gap: 15px; /* Adds spacing between label and dropdown */
    padding: 5px 15px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
}

/* ✅ Adjusting for Mobile View */
@media (max-width: 768px) {
    #toolbar {
        position: fixed;
        justify-content: center;
        top: 50px; /* Directly under the header */
        left: 0;
        width: 100%;
        height: 35px;
        padding: 5px 15px;
        box-shadow: 0 2px 6px rgba(0, 0, 0, 0.1);
        z-index: 900; /* Lower than sidebar but above map/gallery */
    }
}








/* 🔹 General Reset */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

/* 🔹 Global Styles */
body {
    font-family: "Source Serif 4", serif;
    background: white;
    overflow: hidden;
}

/* 🔹 Full-Screen Map */
html, body {
    height: 100%;
    width: 100%;
}

#map {
    position: absolute;
    top: 50px; /* Space for header */
    left: 350px; /* Sidebar width on desktop */
    right: 0;
    bottom: 0;
    transition: left 0.3s ease-in-out;
}

@media (max-width: 768px) {
    #map {
        left: 0;
        bottom: 25%; /* Sidebar height on mobile */
        top: 50px;
    }
}

/* 🔹 Header Styles (Centered Title) */
.site-header {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 50px;
    background: white;
    display: flex;
    align-items: center;
    justify-content: center; /* ✅ Centers the title */
    padding: 0 20px;
    border-bottom: 2px solid #008286;
    z-index: 1000;
    text-align: center;
}

/* 🔹 Site Title (Ensure Full Centering) */
.site-title {
    font-size: 22px;
    font-weight: 700;
    color: #008286;
    text-transform: uppercase;
    letter-spacing: 1px;
    text-align: center;
    width: 100%; /* ✅ Ensures the title stays centered */
}


/* 🔹 Sidebar Styling - Desktop */
.sidebar {
    position: fixed;
    top: 50px;
    left: 0;
    width: 350px;
    height: calc(100% - 50px);
    background: white;
    border-right: 2px solid #008286; /* ✅ Right-side border on desktop */
    padding: 15px;
    overflow-y: auto;
    box-shadow: 2px 0 6px rgba(0, 0, 0, 0.1);
    font-family: "Source Serif 4", serif;
    z-index: 1000;
    transition: width 0.3s ease-in-out, height 0.3s ease-in-out;
}




/* ✅ Hide Scrollbar in Sidebar but Keep Scrollable */
.sidebar {
    overflow-y: auto; /* Allow vertical scrolling */
    scrollbar-width: none; /* For Firefox */
    -ms-overflow-style: none; /* For Internet Explorer and Edge */
}

/* ✅ Hide Scrollbar for WebKit Browsers (Chrome, Safari) */
.sidebar::-webkit-scrollbar {
    display: none;
}



/* 🔹 Expanded Sidebar (Desktop) */
.sidebar.expanded {
    width:80vw; /* 75% width on desktop */
}

.sidebar.expanded + #map {
    left: 80vw; /* Adjust map position */
}

/* 🔹 Sidebar (Mobile) - **Fixed to Bottom** */
@media (max-width: 768px) {
    .sidebar {
        position: fixed;
        width: 100%;
        height: 25%; /* Default height */
        bottom: 0; /* Keep it fixed at the bottom */
        top: auto;
        padding-top: 0 !important;
        padding-bottom: 0 !important;/* Prevent it from aligning to top */
        border-right: none; /* ✅ Remove right border on mobile */
        border-top: 2px solid #008286; /* ✅ Add border to the top on mobile */
        transition: height 0.3s ease-in-out;
        
    }

    /* 🔹 Expanded Sidebar (Mobile) */
    .sidebar.expanded {
        height: 75vh; /* Expand upwards */
        width: 100vw; /* 75% width on desktop */
    }

    .sidebar.expanded + #map {
        bottom: 80vh; /* Adjust map height */
    }
}

/* 🔹 Sidebar Toggle Button */
#toggle-sidebar {
    background: none;
    border: none;
    font-size: 22px;
    cursor: pointer;
    color: #008286;
    transition: transform 0.2s ease, color 0.3s ease;
    transform-origin: center; /* ✅ Ensures scaling happens from the center */
}

/* 🔹 Desktop: Right Edge, Perfectly Centered Vertically */
@media (min-width: 769px) {
    #toggle-container {
        display: flex;
        align-items: center; /* Centers vertically */
        justify-content: flex-end; /* Aligns to the right */
        position: absolute;
        top: 0;
        right: 5px;
        height: 100%;
    }

    #toggle-sidebar {
        font-size: 22px;
        background: none;
        border: none;
        cursor: pointer;
        color: #008286;
        transition: transform 0.2s ease, color 0.3s ease;
        transform-origin: center; /* ✅ Scale from center */
        display: flex;
        align-items: center;
        justify-content: center;
    }

    #toggle-sidebar:hover {
        transform: scale(1.5);
        color: #e49a23e3; /* Optional: Darken color slightly on hover */
    }
}


/* 🔹 Mobile: **Sticky at Top of Sidebar** */
@media (max-width: 768px) {
    #toggle-container {
        position: sticky;
        top: 0;
        left: 0;
        width: 100%;
        background: white;
        
        text-align: center;
        z-index: 1000;
        border-bottom: 2px solid #ddd;
        margin: 0; /* Removes any extra space */
    }

    #toggle-sidebar {
        font-size: 36px;
    }

    
}

/* 🔹 Sidebar Content Styling */
#sidebar-content {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: 15px;
}




/* ✅ Flexible Postcard Container (7x7) */
.postcard-container {
    position: relative;
    width: 100%;
    max-width: 800px; /* Adjust for your desired max size */
    aspect-ratio: 7 / 7; /* Perfect square */
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: height 0.3s ease, width 0.3s ease;
    margin-bottom: 15px; /* Ensures space for buttons below */
}

/* ✅ Adjusting for Rotated Postcard */
.postcard-container.rotated {
    aspect-ratio: 7 / 7; /* Switches to vertical ratio */
    height: auto;
}

/* ✅ Postcard Image (Rotates within Fixed Container) */
.postcard-image {
    max-width: 100%;
    max-height: 100%;
    transition: transform 0.3s ease-in-out;
    object-fit: contain;
}

/* ✅ Next Card Container Positioned Below Postcard */
.next-card-container {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-top: 10px;
}

/* ✅ Mobile Responsive Fix */
@media (max-width: 768px) {
    .postcard-container {
        padding-top: 50px;
        width: calc(90vw - 20px);
        aspect-ratio: 7 / 7;
        /* margin-bottom: 50px; */
    }

    .postcard-container.rotated {
        padding-top: 50px;
        aspect-ratio: 7 / 7;
        height: auto;
    }

    .next-card-container {
        position: relative;
        /* margin-top: 15px; */
    }
}




/* ✅ Flip and Rotate Buttons (Side-by-Side by Default) */
.flip-btn,
.rotate-btn {
    position: absolute;
    bottom: 10px;
    right: 10px;
    background: rgba(0, 130, 134, 0.8);
    border: none;
    color: white;
    font-size: 16px;
    padding: 6px 10px;
    border-radius: 50%;
    cursor: pointer;
    transition: background 0.3s ease-in-out, transform 0.2s;
}

/* ✅ Positioning the Rotate Button Left of the Flip Button */
.rotate-btn {
    right: 70px; /* Adjust this value for spacing */
}

/* ✅ Hover Effects for Both Buttons */
.flip-btn:hover,
.rotate-btn:hover {
    background: rgba(0, 130, 134, 1);
    transform: scale(1.05);
}

/* ✅ Mobile Adjustment: Stacked Buttons */
@media (max-width: 768px) {
    .flip-btn,
    .rotate-btn {
        position: relative;
        right: 0;
        bottom: 0;
        display: inline-block;
        margin: 5px 5px 0 0; /* Slight gap between them */
    }

    .postcard-container {
        flex-direction: row; /* Side by side in mobile */
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
    }
}


/* 🔹 About Section - Centered */
#about-container {
    margin-top: 20px;
    max-width: 600px; /* Center within this width */
    padding: 10px;
    border-top: 2px solid #008286;
    text-align: center;
    margin-left: auto;
    margin-right: auto; /* Centers the section */
}

#toggle-about {
    background: none;
    border: none;
    font-size: 16px;
    font-weight: bold;
    color: #008286;
    cursor: pointer;
    width: 100%;
    padding: 8px 0;
}

#toggle-about:hover {
    text-decoration: underline;
}

/* 🔹 About Section Visibility */
#about-content {
    display: none;
    font-size: 14px;
    color: #3e3e3e;
    margin-top: 10px;
}

/* 🔹 Show About Section */
#about-content.visible {
    display: block;
}

/* ✅ Default Marker Style */
.custom-marker {
    width: 20px;
    height: 20px;
    background: #008286;
    border-radius: 50%; /* Ensures circular shape */
    opacity: 0.8;
    transition: all 0.2s ease-in-out;
}

/* ✅ Highlighted Marker (Ensures it Stays Circular) */
.custom-marker.selected {
    width: 25px;
    height: 25px;
    background: #FFA500; /* Orange highlight */
    border-radius: 50%; /* Ensures it stays circular */
    border: 3px solid white;
    box-shadow: 0 0 10px rgba(255, 165, 0, 0.7);
}

/* 🔹 Share Button Styling */
.share-btn, .share-button {
    display: flex;
    justify-content: center; /* ✅ Centers text horizontally */
    align-items: center;  /* ✅ Centers text vertically */
    text-align: center;  /* ✅ Ensures consistent centering */
    
    width: 90%;  /* ✅ Ensures it fits neatly in sidebar */
    max-width: 200px; /* ✅ Prevents excessive stretching */
    margin: 10px auto; /* ✅ Centers inside the sidebar */
    padding: 10px 14px;
    font-size: 16px;
    font-weight: bold;
    color: white;
    background-color: #008286; /* ✅ Matches theme */
    border: none;
    border-radius: 20px;
    cursor: pointer;
    transition: background 0.3s ease-in-out, transform 0.2s ease;
}

/* 🔹 Hover and Click Effects */
.share-btn:hover, .share-button:hover {
    background-color: #005d5f;
    transform: scale(1.05);
}

.share-btn:active, .share-button:active {
    background-color: #003c3f;
    transform: scale(0.95);
}

/* ✅ Base Gallery View Settings (Desktop by Default) */
#gallery-view {
    display: flex;
    flex-wrap: wrap;
    gap: 15px;
    padding: 15px;
    overflow-y: auto;
    max-width: 1400px;
    margin: 90px auto 0; /* ✅ Added margin-top to push below header */
    min-height: calc(100vh - 90px); /* ✅ Ensures full height for scrolling */
    max-height: calc(100vh - 90px); /* ✅ Limits height to avoid overflow */
    justify-content: center; /* ✅ Center all cards in the gallery */
    align-content: flex-start; /* ✅ Ensures cards are aligned to the top and scrollable */
    padding-bottom: 40px; /* ✅ Extra padding at the bottom for spacing */
}

/* ✅ Adjusting Gallery for Desktop (Right-Aligned) */
@media (min-width: 1024px) {
    #gallery-view {
        margin-left: 350px; /* ✅ Adjust based on the sidebar width */
        max-width: calc(100vw-350px);
    }
}


/* ✅ Mobile View: Centered Gallery */
@media (max-width: 1024px) {
    #gallery-view {
        padding-top: 175px;
        margin: 0 auto; /* Centered */
        justify-content: center;
        padding-bottom: 0px;
    }
}

/* ✅ Each Postcard with Consistent 5x7 Ratio */
.gallery-card {
    flex: 0 1 calc(20% - 15px); /* Default - 5 columns on desktop */
    max-width: calc(20% - 15px);
    aspect-ratio: 7 / 5;
    background-color: #f0f0f0;
    border: 2px solid #ddd;
    border-radius: 2px;
    transition: transform 0.2s ease-in-out;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
}

/* ✅ Image Fills the 5x7 Area without Stretching */
.gallery-card img {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
}

/* ✅ Hover Effect for Interactivity */
.gallery-card:hover {
    transform: scale(1.02);
}

/* ✅ Media Query: Tablets (3 Columns) */
@media (max-width: 1024px) {
    #gallery-view {
        flex-wrap: wrap;
        justify-content: center;
        height: calc(100vh - 60px); /* Adjust for header height */
    }
    .gallery-card {
        flex: 0 1 calc(33.33% - 15px);
        max-width: calc(33.33% - 15px);
    }
}

/* ✅ Media Query: Mobile (2 Columns) */
@media (max-width: 768px) {
    #gallery-view {
        flex-wrap: wrap;
        justify-content: center;
        height: calc(100vh - 70px); /* Adjust for header height */
        padding-bottom: 250px; /* ✅ Extra padding at the bottom for spacing */
    }
    .gallery-card {
        flex: 0 1 calc(50% - 15px);
        max-width: calc(50% - 15px);
    }
}

/* ✅ Media Query: Small Mobile (1 Column) */
@media (max-width: 480px) {
    #gallery-view {
        flex-wrap: wrap;
        justify-content: center;
        height: calc(100vh - 80px); /* Adjust for header height */
    }
    .gallery-card {
        flex: 0 1 calc(50% - 15px);
        max-width: calc(50% - 15px);
    }
}



/* 🔹 Map/Gallery Toggle Button Styles (Matching Share Button) */
#toggle-gallery {
    display: flex;
    justify-content: center;
    align-items: center;
    text-align: center;
    width: 90%;  /* Matches share button width */
    max-width: 150px; /* Matches share button max width */
    margin: 10px auto; /* Centers the button */
    padding: 5px 10px;
    font-size: 16px;
    font-weight: bold;
    color: white;
    background-color: #008286; /* Matches theme */
    border: none;
    border-radius: 20px;
    cursor: pointer;
    transition: background 0.3s ease-in-out, transform 0.2s ease;
}

#toggle-gallery:hover {
    background-color: #005d5f;
    transform: scale(1.05);
}

#toggle-gallery:active {
    background-color: #003c3f;
    transform: scale(0.95);
}

/* 🔹 Highlighted Card Style (Currently Selected Card) */
.gallery-card.selected {
    outline: 3px solid #FFA500; /* Orange outline for emphasis */
    box-shadow: 0 0 15px rgba(255, 165, 0, 0.5); /* Subtle glow effect */
    transform: scale(1.05); /* Slightly larger to stand out */
}









/* ✅ Next Card Button Styling */
/* ✅ Navigation Buttons Container (Flex Alignment) */
.next-card-container {
    display: flex;
    justify-content: center;
    gap: 20px;
    margin-top: 10px;
}

/* ✅ Navigation Button Styles (Matching Toggle View) */
.next-card-btn {
    padding: 5px 10px;
    font-size: 14px;
    font-weight: bold;
    color: #008286;
    background-color: white;
    border: 1px solid #008286;
    border-radius: 20px;
    cursor: pointer;
    transition: background 0.3s ease, color 0.3s ease;
    text-align: center;
    max-width: 100px;
}

/* ✅ Hover and Active Styles */
.next-card-btn:hover {
    background-color: #008286;
    color: white;
}

.next-card-btn:active {
    background-color: #005d5f;
    transform: scale(0.95);
}



/* 🔹 Toolbar Button Styles */
#toggle-view {
    padding: 5px 10px;
    font-size: 14px;
    margin-left: 5px;
    border: 1px solid #008286;
    border-radius: 20px;
    background-color: white;
    color: #008286;
    cursor: pointer;
    transition: background 0.3s ease, color 0.3s ease;
}

#toggle-view:hover {
    background-color: #008286;
    color: white;
}

/* ✅ Media Query: Small Mobile (1 Column) */
@media (max-width: 1000px) {
    #toggle-view {
        font-size: 11px !important;
    }
    
}





/* ✅ Social Media Icons Centered */
.social-links {
    display: flex;
    justify-content: center;
    gap: 15px;
    margin-bottom: 10px; /* Adds spacing below icons */
}

.social-icon {
    width: 30px;
    height: 30px;
    transition: transform 0.2s ease;
    cursor: pointer;
}

/* ✅ Hover Effect */
.social-icon:hover {
    transform: scale(1.1);
}





/* 🔹 Mile Marker Label Style (Non-Interactive) */
.mile-marker-text {
    font-family: "Source Serif 4", serif;
    font-size: 12px;
    font-weight: bold;
    opacity: 0.5;
    color: #008286;
    pointer-events: none; /* ✅ Prevents interaction (no pointer cursor) */
    user-select: none;    /* ✅ Prevents text selection */
    text-shadow: 
        -3px -3px 5px rgba(255, 255, 255, 0.8), 
        3px -3px 5px rgba(255, 255, 255, 0.8),
        -3px 3px 5px rgba(255, 255, 255, 0.8), 
        3px 3px 5px rgba(255, 255, 255, 0.8);
}

/* 🔹 Mile Marker Dot (Matching Trail Style) */
.mile-marker-dot {
    width: 6px;
    height: 6px;
    background-color: #008286; /* Matches PCT trail color */
    border-radius: 50%; /* Circular dot */
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none; /* ✅ Not clickable */
    z-index: 10; /* Ensure it stays above the trail line */
    opacity: 0.0; /* NOT VISIBLE !!!!!! */
}







/* ===== Mature UI (Theme-aligned) ===== *//* ===== Mature UI (Theme-aligned) ===== *//* ===== Mature UI (Theme-aligned) ===== *//* ===== Mature UI (Theme-aligned) ===== *//* ===== Mature UI (Theme-aligned) ===== */

/* ===== Mature UI (Theme-aligned, consolidated) ===== */
:root{
  --teal:#008286;
  --teal-600:#005d5f;
  --teal-050:#f0fbfb;
  --ink:#3e3e3e;
  --sand:#e49a23;
}

/* Toggle wrapper aligns with toolbar controls */
.pill-switch{
  position: relative;                /* positioning context for popover */
  display:inline-flex;
  align-items:center;
  gap:10px;
  background:#fff;
  border:1px solid var(--teal);
  border-radius:20px;
  padding:5px 10px;
  height:28px;
  line-height:1;
  box-shadow: 0 2px 6px rgba(0,0,0,0.06);
}

/* Hide the native checkbox */
.pill-switch input{
  position:absolute; opacity:0; pointer-events:none;
}

/* The pill (switch) */
.pill{
  position:relative;
  width:40px; height:18px;
  background:#e9f4f4;
  border:1px solid var(--teal);
  border-radius:999px;
  transition: background .2s ease, border-color .2s ease;
}
.pill::after{
  content:"";
  position:absolute; top:50%; left:2px; transform:translateY(-50%);
  width:14px; height:14px; background:var(--teal); border-radius:50%;
  transition:left .2s ease, background .2s ease;
}
.pill-switch input:checked + .pill{
  background: var(--teal); border-color: var(--teal);
}
.pill-switch input:checked + .pill::after{
  left:24px; background:#fff;
}

/* Label text */
.pill-switch .label{
  font-size:13px; color:var(--teal); font-weight:600;
}

/* Tiny info chip */
.pill-switch .info{
  border:1px solid var(--teal);
  background:#fff;
  color:var(--teal);
  width:20px; height:20px; border-radius:50%;
  line-height:18px; text-align:center; font-size:12px;
  cursor:pointer;
  transition:background .2s, color .2s, transform .2s;
}
.pill-switch .info:hover{
  background:var(--teal); color:#fff; transform:scale(1.05);
}

/* Popover (hidden by default) */
.mature-popover{
  position: absolute;
  top: calc(100% + 8px);
  right: 0;                          /* align to the right edge of the switch */
  z-index: 2000;                     /* above toolbar/map bits */
  width: min(360px, 86vw);
  background:#fff;
  color: var(--ink);
  border:1px solid #ddd;
  box-shadow:0 6px 18px rgba(0,0,0,.12);
  border-radius:10px;
  padding:14px 16px;
  font-size:14px;
  line-height:1.45;

  opacity: 0;
  transform: translateY(-4px) scale(.98);
  pointer-events: none;
  transition: opacity .15s ease, transform .15s ease;
}
.mature-popover::before{
  content:"";
  position:absolute;
  top:-7px; right:22px;
  width:12px; height:12px;
  background:#fff;
  border-left:1px solid #ddd;
  border-top:1px solid #ddd;
  transform: rotate(45deg);
}
.popover-title{
  font-weight:700; color: var(--teal);
  display:flex; align-items:center; gap:8px; margin-bottom:6px;
}

/* Show on hover, keyboard focus, or when JS toggles .open */
.pill-switch:hover .mature-popover,
.pill-switch:focus-within .mature-popover,
.pill-switch.open .mature-popover{
  opacity: 1 !important;
  transform: translateY(0) scale(1) !important;
  pointer-events: auto !important;
}

/* Gallery blur overlay styled to theme */
.mature-blurred img{ filter: blur(12px); }
.mature-overlay{
  position:absolute; inset:0;
  display:flex; flex-direction:column; justify-content:center; align-items:center; gap:.5rem;
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(2px);
  border: 1px dashed var(--teal);
  color: var(--teal);
  font-weight:700;
  text-align:center;
  padding:.75rem;
}
.mature-overlay .reveal-once{
  border:1px solid var(--teal);
  padding:.45rem .75rem; border-radius:5px; background:#fff; color:var(--teal);
  cursor:pointer; font-weight:700;
  transition: background .2s ease, color .2s ease, transform .2s ease;
}
.mature-overlay .reveal-once:hover{
  background:var(--teal); color:#fff; transform:scale(1.03);
}

/* Sidebar gate styled like your cards/buttons */
/* ===== Sidebar mature gate with blurred hero image ===== */
.gate {
  padding: 12px;
  border: 1px solid #ddd;
  background: var(--teal-050);
  border-radius: 8px;
  text-align: center;
}

/* The blurred preview block at the top of the gate */
.gate-hero {
  position: relative;
  width: 100%;
  max-width: 800px;
  aspect-ratio: 7 / 5;     /* matches your cards */
  margin: 0 auto 10px auto;
  border: 1px solid #ddd;
  border-radius: 8px;
  overflow: hidden;
  background: #f0f0f0;
  cursor: pointer;         /* whole hero is clickable to reveal */
}

.gate-hero img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  filter: blur(14px) saturate(95%);
  transform: scale(1.03);
}

/* Overlay that sits on top of the blurred image */
.gate-overlay {
  position: absolute;
  inset: 0;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: .5rem;
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(2px);
  color: var(--teal);
  font-weight: 700;
  padding: .75rem;
}

.gate-overlay .overlay-title {
  font-size: 14px;
}

.reveal-once {
  border: 1px solid var(--teal);
  padding: .45rem .75rem;
  border-radius: 5px;
  background: #fff;
  color: var(--teal);
  cursor: pointer;
  font-weight: 700;
  transition: background .2s ease, color .2s ease, transform .2s ease;
}
.reveal-once:hover {
  background: var(--teal);
  color: #fff;
  transform: scale(1.03);
}

/* Actions below the hero */
.gate-actions {
  display: flex;
  gap: 10px;
  justify-content: center;
  margin-top: 8px;
}
.gate-actions button {
  border: 1px solid var(--teal);
  background: #fff;
  color: var(--teal);
  padding: .45rem .75rem;
  border-radius: 5px;
  cursor: pointer;
  font-weight: 700;
  transition: background .2s ease, color .2s ease, transform .2s ease;
}
.gate-actions button:hover {
  background: var(--teal);
  color: #fff;
  transform: scale(1.03);
}

/* Badge (reuse your theme color) */
.badge-18 {
  display: inline-block;
  font-size: 11px;
  font-weight: 700;
  color: #fff;
  background: #e49a23;
  border-radius: 999px;
  padding: 2px 8px;
  letter-spacing: .3px;
}

/* Mobile: keep it comfy */
@media (max-width: 768px) {
  .gate-hero {
    aspect-ratio: 7 / 5;
    max-width: 100%;
  }
}

/* center the label inside the trigger */
.sort-trigger {
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
}








/* ========= Toolbar & Mature UI: mobile fixes ========= */
@media (max-width: 768px) {
  /* Let the toolbar wrap, avoid squeeze */
  #toolbar {
    position: fixed;
    top: 50px;
    left: 0;
    right: 0;
    height: auto;                 /* allow rows */
    padding: 6px 10px;
    display: flex;
    gap: 8px;
    flex-wrap: wrap;              /* wrap to 2 lines when needed */
    justify-content: center;
    align-items: center;
    overflow-x: auto;             /* graceful fallback */
    -webkit-overflow-scrolling: touch;
  }

  /* Buttons shrink a bit */
  #toggle-view {
    font-size: 12px;
    padding: 4px 8px;
  }

  /* Switch gets tighter spacing */
  .pill-switch {
    gap: 6px;
    padding: 4px 8px;
    height: 26px;
    flex: 0 1 auto;               /* don’t stretch too wide */
  }
  .pill { width: 36px; height: 16px; }
  .pill::after { width: 12px; height: 12px; left: 2px; }
  .pill-switch input:checked + .pill::after { left: 22px; }
  .pill-switch .label { font-size: 12px; }

  /* Sort dropdown: narrower & smaller text */
  #sort-by {
    font-size: 12px;
    padding: 4px 28px 4px 8px;
    min-width: 140px;
    max-width: 48vw;              /* prevent overflow */
  }

  /* Popover becomes centered "sheet" so it never goes off-screen */
  .pill-switch { position: relative; }
  .mature-popover {
    right: auto;                  /* stop anchoring to right edge */
    left: 50%;
    transform: translate(-50%, 0) scale(1); /* centered */
    top: calc(100% + 8px);
    width: min(92vw, 420px);      /* roomy but safe */
    padding: 12px 14px;
    font-size: 13px;
    line-height: 1.4;
  }
  .pill-switch:hover .mature-popover,
  .pill-switch:focus-within .mature-popover,
  .pill-switch.open .mature-popover {
    transform: translate(-50%, 0) scale(1); /* keep same when visible */
  }
  .mature-popover::before {
    left: 50%;
    right: auto;
    transform: translateX(-50%) rotate(45deg);
  }
}

/* Extra tiny phones: show “18+” label shorter to save room */
@media (max-width: 420px) {
  .pill-switch .label { display: none; }     /* hide long label */
  .pill-switch .info { margin-left: 2px; }
}

/* Make sure the popover sits above everything when portaled to <body> */
.mature-popover { z-index: 4000; }

/* Mobile: center it so it never clips */
@media (max-width: 768px) {
  .mature-popover {
    position: fixed !important;
    top: 18vh;
    left: 50%;
    transform: translateX(-50%) !important;
    width: min(92vw, 420px);
    max-height: 65vh;
    overflow: auto;
  }
  /* We’re using JS to open/close on mobile; ignore hover rules */
  .pill-switch:hover .mature-popover,
  .pill-switch:focus-within .mature-popover { opacity: 0; pointer-events: none; }
  .pill-switch.open .mature-popover { opacity: 1; pointer-events: auto; }
  .mature-popover::before { display:none; } /* no arrow in center mode */
}


/* Popover is hidden by default */
.mature-popover {
  opacity: 0;
  pointer-events: none;
  z-index: 4000; /* above toolbar/map */
}

/* Show when JS toggles this class */
.mature-popover.is-open {
  opacity: 1;
  pointer-events: auto;
}

/* Mobile: fixed, centered sheet so it never clips */
@media (max-width: 768px) {
  .mature-popover {
    position: fixed !important;
    top: 18vh;
    left: 50%;
    transform: translateX(-50%) !important;
    width: min(92vw, 420px);
    max-height: 65vh;
    overflow: auto;
  }
  .mature-popover::before { display: none; } /* no arrow in center mode */
}

/* Desktop stays anchored near the info button; JS sets top/left */
@media (min-width: 769px) {
  .mature-popover {
    position: fixed; /* placed by JS using getBoundingClientRect() */
  }
}



/* Mature gate hero (blurred preview with button-only click) */
/* Rounded teal box */
.gate {
  background: var(--teal-050);
  border: 1px solid #ddd;
  border-radius: 10px;        /* ✅ rounded box */
  padding: 12px;
  overflow: visible !important; /* don't clip the square image */
}

/* Square preview image (no rounding) */
.gate-hero { 
  position: relative; 
  margin-bottom: 10px; 
  border-radius: 0 !important;
}
.gate-hero img,
.gate-hero .gate-image {
  display: block;
  width: 100%;
  max-height: 60vh;
  object-fit: contain;
  border: 0;
  border-radius: 0 !important;        /* ✅ square image corners */
  -webkit-mask-image: none !important;
  mask-image: none !important;
  clip-path: none !important;
}

/* Blur effect (keeps corners square) */
.gate-hero .gate-image.blurred { filter: blur(12px); }

/* Overlay + button stays the same */
.gate-overlay {
  position: absolute; inset: 0;
  display: flex; flex-direction: column; align-items: center; justify-content: center; gap: .5rem;
  background: rgba(255,255,255,.5);
  backdrop-filter: blur(2px);
  pointer-events: none;
}
.gate-overlay .reveal-once {
  pointer-events: auto;
  border:1px solid var(--teal);
  background:#fff; color: var(--teal);
  padding:.45rem .75rem; border-radius:5px; font-weight:700; cursor:pointer;
  transition: background .2s ease, color .2s ease, transform .2s ease;
}
.gate-overlay .reveal-once:hover { background: var(--teal); color:#fff; transform: scale(1.03); }
.overlay-title { font-weight:700; color: var(--teal); }














.search-wrap {
  display:flex; align-items:center; gap:6px;
  background:#fff; border:1px solid #008286; border-radius:20px; padding:2px 6px;
}
#search-input {
  border:none; outline:none; font-size:16px; padding:4px 6px; min-width: 210px;
}
#search-clear {
  border:none; background:transparent; color:#008286; font-size:18px; line-height:1;
  cursor:pointer; padding:0 4px;
}
@media (max-width: 768px){
  #search-input{ min-width: 180px; font-size:18px; }
}

/* WebKit (Safari/Chrome/Brave/Edge Chromium) */
#search-input::-webkit-search-cancel-button,
#search-input::-webkit-search-decoration,
#search-input::-webkit-search-results-button,
#search-input::-webkit-search-results-decoration {
  display: none;
}

/* Old Edge/IE */
#search-input::-ms-clear,
#search-input::-ms-reveal {
  display: none;
  width: 0;
  height: 0;
}

/* Normalize the look so it behaves like a regular text field */
#search-input {
  -webkit-appearance: textfield;
  appearance: textfield;
}


#search-input::placeholder {
  font-size: 16px !important;
}


/* iOS-only tweak so the 16px wins on iPhone */
@supports (-webkit-touch-callout: none) {
  #search-input,
  #search-input::placeholder {
    font-size: 16px !important;
  }
}
const el = document.getElementById('search-input');
console.log('input size:', getComputedStyle(el).fontSize);




.smart-sort { position: relative; display: inline-block; font: inherit; }

.sort-trigger{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 10px;            /* right space for caret */
  border:1px solid var(--teal); border-radius:20px;
  background:#fff; color:var(--teal);
  cursor:pointer; line-height:1.2; white-space:nowrap;
  box-shadow:0 2px 6px rgba(0,0,0,.06);
  transition: background .2s ease, color .2s ease, box-shadow .2s ease, transform .1s ease;
}
.sort-trigger:hover{ background:var(--teal-050); }
.sort-trigger:focus{ outline:none; box-shadow:0 0 0 2px rgba(0,130,134,.18); }
.sort-trigger > span[aria-hidden="true"]{ pointer-events:none; }

.sort-menu{
  position:absolute; top:calc(100% + 6px); left:0; z-index:1200;
  background:#fff; border:1px solid #ddd; border-radius:8px;
  box-shadow:0 8px 22px rgba(0,0,0,.14);
  padding:6px 0; margin:0; list-style:none;
  min-width:100%;  /* grow to longest item */
  display:none;
}
.smart-sort.open .sort-menu{ display:block; }

#sort-menu li{
  padding:8px 12px; cursor:pointer; white-space:nowrap; color:var(--ink);
  transition: background .15s ease, color .15s ease;
}
#sort-menu li:hover{ background:var(--teal-050); color:var(--teal); }
#sort-menu li[aria-selected="true"]::after{
  content:"✓"; float:right; color:var(--teal); font-weight:500;
  
}
#sort-menu li.disabled, #sort-menu li[aria-disabled="true"]{
  opacity:.5; pointer-events:none;
}

/* Mobile: smaller smart-sort label + items, keep comfy tap targets */
@media (max-width: 768px){
  .sort-trigger{
    font-size: 12px;              /* smaller label */
    padding: 2px 10px;    /* room for caret on the right */
    min-height: 28px;             /* keep clickable */
    max-width: 92vw;
    text-overflow: ellipsis;
    overflow: hidden;
  }

  #sort-menu li{
    font-size: 12px;              /* smaller menu items */
    line-height: 1.3;
    padding: 3px 5px;            /* readable, yet compact */
    min-height: 24px;             /* ~36–40px is nice for touch */
    white-space: nowrap;
  }

  .sort-menu{
    max-width: 92vw;              /* prevent off-screen */
  }
}









