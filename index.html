<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trail Traces</title>
    
    <!-- Leaflet CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

    <!-- Marker Cluster CSS -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.css">
    <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster/dist/MarkerCluster.Default.css">

    <!-- Google Fonts -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@300..900&display=swap">

    <!-- Your custom CSS -->
    <link rel="stylesheet" href="style.css">

    <!-- PapaParse CSV Parser -->
    <script src="https://cdn.jsdelivr.net/npm/papaparse@5.4.1/papaparse.min.js"></script>
</head>
<body>
    <header class="site-header">
        <h1 class="site-title">TRAIL TRACES</h1>
        <button id="toggle-gallery">View Gallery</button>
    </header>

    <div id="toolbar" class="toolbar">
        <!-- <label for="sort-by" style="color: gray;">Sort By</label> -->
        <button id="toggle-view">Show Backs</button>
        <select id="sort-by">
            <option value="date-desc">Sort by: Creation Date (Newest First)</option>
            <option value="date-asc">Sort by: Creation Date (Oldest First)</option>
            <option value="recent-asc">Sort by: Upload Date (Oldest First)</option>
            <option value="recent-desc">Sort by: Upload Date (Newest First)</option>
            <option value="south-north-asc">Sort by: South to North</option>
            <option value="south-north-desc">Sort by: North to South</option>
        </select>
    </div>

    <div id="map"></div>
    
    
    <div id="gallery-view" style="display: none;"></div>

    <div id="sidebar" class="sidebar">
        <!-- ✅ Toggle Container for Sidebar (Sticky) -->
        <div id="toggle-container">
            <button id="toggle-sidebar" class="toggle-btn">▶</button>
        </div>


        <!-- ✅ Next Card Button → -->
        <div class="next-card-container">
            <button id="previous-card" class="next-card-btn">←</button>
            <button id="next-card" class="next-card-btn">→</button>
        </div>


        
        <div id="sidebar-content">
            <p>Select a marker or postcard to view details here.</p>

            <div class="postcard-container">
                <img id="postcard-image" class="postcard-image" alt="Postcard Image">
                <button id="flip-button" class="flip-btn" style="display: none;">⇆</button>
            </div>

            <p><strong>From:</strong> <span id="postcard-name"></span></p>
            <p><strong>Location:</strong> <span id="postcard-location"></span></p>
            <p><strong>Date:</strong> <span id="postcard-date"></span></p>

            <div class="share-buttons">
                <button id="copy-link" class="share-btn">Share</button>
            </div>

            
        </div>

         
        <div id="about-container">
            <button id="toggle-about">About This Project ▼</button>
            <div id="about-content" class="hidden">
                <p><strong>Trail Traces</strong> collects postcards from those who walk, support, and are inspired by the Pacific Crest Trail. It exists to preserve and share trail experiences—moments of challenge, joy, boredom, frustration, peace, connection—through handwritten notes.</p><br>
                <p>The postcards are mailed from places along the trail to a P.O. Box in Oregon, where they are then digitized and uploaded for the community to view, share, and remember. The project was started by Eden McCall [trail name Bhikkhu], a 2025 northbound PCT thru-hiker, to create a place to share the trail experience with others.</p><br>
                <p><em>Trail Traces is an independent project and is not affiliated with, sponsored by, or endorsed by any organization, business, or institution.</em></p><br>
                <p><em>All postcard images are shared with permission from their creators and are intended for viewing only. Reproducing, downloading, or using these images without the creator's consent is prohibited.</em></p><br>
                <p>Questions, ideas, or want to contribute? Send a message to: <a href="mailto:edenmccall@gmail.com">edenmccall@gmail.com</a></p>
            </div>
        </div>
    </div>

    








    <!-- Leaflet JS -->
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script src="https://unpkg.com/leaflet.markercluster/dist/leaflet.markercluster.js"></script>
    <script src="script.js"></script>

</body>
</html>